#!/usr/bin/env dotnet-script

var searchRoot = Args.Count >= 1 ? Args[0] : ".";

Search(searchRoot);

void Search(string directory)
{
	var git = Path.Combine(directory, ".git");
	if (Directory.Exists(git))
	{
		Console.WriteLine(Path.GetRelativePath(searchRoot, directory));
	}
	else
	{
		foreach (var child in Directory.EnumerateDirectories(directory, "*", SearchOption.TopDirectoryOnly))
		{
			Search(child);
		}
	}
}
